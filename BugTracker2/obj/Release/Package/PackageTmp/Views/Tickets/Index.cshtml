@model IEnumerable<BugTracker2.Models.Tickets>

@{
    ViewBag.Title = "Index";
}

<h2>Tickets</h2>
<input type="hidden" name="AssignedUserId" id="AssignedUserId" value="@ViewBag.AssignedUserId" />
<p>
    @if (Request.IsAuthenticated && User.IsInRole("Submitter"))
            {
        @Html.ActionLink("Create", "Create", "Tickets")
    }
</p>

<table id="mytable" class="data-table-xl hover row-border table-striped compact">
    <thead>
    <tr>
        @*<th>
            @Html.DisplayNameFor(model => model.OwnerId)
        </th>*@
        <th>
            @Html.DisplayNameFor(model => model.Project)
       </th>
        <th>
            @Html.DisplayNameFor(model => model.Created)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Updated)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Title)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Body)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Status.Status)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Priority.Priority)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Type.Type)
        </th>

        <th></th>
    </tr>
        </thead>
    <tbody>
@foreach (var item in Model) {
    <tr>
        @*<td>
            @Html.DisplayFor(modelItem => item.OwnerId)
        </td>*@
        <td>
            @Html.DisplayFor(modelItem => item.Project.Title)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Created)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Updated)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Title)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Body)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Status.Status)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Priority.Priority)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Type.Type)
        </td>

        <td>
            @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
            @Html.ActionLink("Details", "Details", new { id = item.Id }) 
            @*@Html.ActionLink("Delete", "Delete", new { id = item.Id })*@ 
        </td>
    </tr>
}
            
 </tbody>
 
</table>
<div>
    @Html.ActionLink("Back to Dashboard", "Index","Home")
</div> 
<p>
    @if (Request.IsAuthenticated && User.IsInRole("Admin"))
            {
        @Html.ActionLink("View All Tickets", "FullList", "Tickets")
    }
</p>







    

